/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package Interfaz.Paneles;

import Data.Infrastructure.DoctorsOffice;
import Data.Infrastructure.Hospital;
import Data.People.Doctor;
import Data.People.Patient;
import DataBase.GuardarHospital;
import DataBase.LoadDataBase;
import Exceptions.NotValidNumber;
import java.awt.CardLayout;
import java.awt.event.WindowAdapter;
import java.awt.event.WindowEvent;
import java.util.logging.Level;
import java.util.logging.Logger;
import javax.swing.JFrame;
import javax.swing.JOptionPane;
import javax.swing.WindowConstants;
import javax.swing.event.ListSelectionEvent;
import javax.swing.event.ListSelectionListener;

/**
 *
 * @author oscar
 */
public class MainWindow extends javax.swing.JFrame {

    /**
     * Variable keeping all the data from all the hospitals
     */
    private Hospital hospital;

    /**
     * Creates new form MainWindow
     */
    public MainWindow() {

        this.hospital = null;

        initComponents();
        initSaveButtonsListeners();
        //intiFakeData();

        LoadDataBase DB = new LoadDataBase();
        this.hospital = DB.LoadHospital();

        this.setVisible(true);

        if (this.hospital == null) {

            this.setVisible(false);

            this.createNewHospitalForm.setVisible(true);

            this.Frame.setDefaultCloseOperation(WindowConstants.DO_NOTHING_ON_CLOSE);
            this.Frame.addWindowListener(new WindowAdapter() {

                public void windowClosing(WindowEvent ev) {
                    int reply = JOptionPane.showConfirmDialog(null, "Â¿Seguro que quieres salir?", "Salir", JOptionPane.OK_CANCEL_OPTION);
                    if (reply == JOptionPane.OK_OPTION) {
                        System.exit(0);
                    }
                }
            });

            this.Frame.setSize(500, 600);
            this.Frame.setVisible(true);

            this.Frame.getContentPane().add(this.createNewHospitalForm);

        } else {

        }

    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        mainPanel = new javax.swing.JPanel();
        inicioPanel = new javax.swing.JPanel();
        inicioPanel1 = new Interfaz.Paneles.InicioPanel();
        newHospital = new javax.swing.JPanel();
        createNewHospitalForm = new Interfaz.Paneles.CreateNewHospital();
        newOffice = new javax.swing.JPanel();
        createNewDoctorsOffice1 = new Interfaz.Paneles.CreateNewDoctorsOffice();
        newPatient = new javax.swing.JPanel();
        createNewPatient1 = new Interfaz.Paneles.CreateNewPatient();
        newDoctor = new javax.swing.JPanel();
        createNewDoctor2 = new Interfaz.Paneles.CreateNewDoctor();
        editPatient = new javax.swing.JPanel();
        editPatient1 = new Interfaz.Paneles.EditPatient();
        editOffice = new javax.swing.JPanel();
        reportOfficesPanel = new Interfaz.Paneles.ReportOffices();
        editDoctor = new javax.swing.JPanel();
        editDoctor1 = new Interfaz.Paneles.EditDoctor();
        removePatient = new javax.swing.JPanel();
        removeOffice = new javax.swing.JPanel();
        removeDoctor = new javax.swing.JPanel();
        removeDoctorPanel = new Interfaz.Paneles.DeleteDoctor();
        aboutHospital = new javax.swing.JPanel();
        aboutHospital1 = new Interfaz.Paneles.aboutHospital();
        editHospital = new javax.swing.JPanel();
        editHospital1 = new Interfaz.Paneles.EditHospital();
        reportDoctor = new javax.swing.JPanel();
        reportDoctor1 = new Interfaz.Paneles.ReportDoctor();
        reportPatient = new javax.swing.JPanel();
        reportPatientPanel = new Interfaz.Paneles.ReportPatient();
        menuBar = new javax.swing.JMenuBar();
        save = new javax.swing.JMenu();
        menuHospital = new javax.swing.JMenu();
        menuEditHospital = new javax.swing.JMenuItem();
        menuAboutHospital = new javax.swing.JMenuItem();
        menuOffice = new javax.swing.JMenu();
        menuNewOffice = new javax.swing.JMenuItem();
        menuSearchOffice = new javax.swing.JMenuItem();
        menuDoctor = new javax.swing.JMenu();
        menuNewDoctor = new javax.swing.JMenuItem();
        menuEditDoctor = new javax.swing.JMenuItem();
        menuRemoveDoctor = new javax.swing.JMenuItem();
        menuPatient = new javax.swing.JMenu();
        menuNewPatient = new javax.swing.JMenuItem();
        menuEditPatient = new javax.swing.JMenuItem();
        menuRemovePatient = new javax.swing.JMenuItem();
        menuReport = new javax.swing.JMenu();
        menuReportDoctor = new javax.swing.JMenuItem();
        menuReportPatient = new javax.swing.JMenuItem();

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);

        mainPanel.setLayout(new java.awt.CardLayout());

        inicioPanel.setForeground(new java.awt.Color(204, 255, 204));

        javax.swing.GroupLayout inicioPanelLayout = new javax.swing.GroupLayout(inicioPanel);
        inicioPanel.setLayout(inicioPanelLayout);
        inicioPanelLayout.setHorizontalGroup(
            inicioPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, inicioPanelLayout.createSequentialGroup()
                .addContainerGap(72, Short.MAX_VALUE)
                .addComponent(inicioPanel1, javax.swing.GroupLayout.PREFERRED_SIZE, 774, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(69, 69, 69))
        );
        inicioPanelLayout.setVerticalGroup(
            inicioPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(inicioPanelLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(inicioPanel1, javax.swing.GroupLayout.DEFAULT_SIZE, 698, Short.MAX_VALUE)
                .addContainerGap())
        );

        mainPanel.add(inicioPanel, "inicioPanel");

        javax.swing.GroupLayout newHospitalLayout = new javax.swing.GroupLayout(newHospital);
        newHospital.setLayout(newHospitalLayout);
        newHospitalLayout.setHorizontalGroup(
            newHospitalLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(newHospitalLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(createNewHospitalForm, javax.swing.GroupLayout.DEFAULT_SIZE, 889, Short.MAX_VALUE)
                .addContainerGap())
        );
        newHospitalLayout.setVerticalGroup(
            newHospitalLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(newHospitalLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(createNewHospitalForm, javax.swing.GroupLayout.DEFAULT_SIZE, 698, Short.MAX_VALUE)
                .addContainerGap())
        );

        mainPanel.add(newHospital, "newHospital");

        javax.swing.GroupLayout newOfficeLayout = new javax.swing.GroupLayout(newOffice);
        newOffice.setLayout(newOfficeLayout);
        newOfficeLayout.setHorizontalGroup(
            newOfficeLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(newOfficeLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(createNewDoctorsOffice1, javax.swing.GroupLayout.DEFAULT_SIZE, 889, Short.MAX_VALUE)
                .addContainerGap())
        );
        newOfficeLayout.setVerticalGroup(
            newOfficeLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(newOfficeLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(createNewDoctorsOffice1, javax.swing.GroupLayout.DEFAULT_SIZE, 698, Short.MAX_VALUE)
                .addContainerGap())
        );

        mainPanel.add(newOffice, "newOffice");

        javax.swing.GroupLayout newPatientLayout = new javax.swing.GroupLayout(newPatient);
        newPatient.setLayout(newPatientLayout);
        newPatientLayout.setHorizontalGroup(
            newPatientLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(newPatientLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(createNewPatient1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(141, Short.MAX_VALUE))
        );
        newPatientLayout.setVerticalGroup(
            newPatientLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(newPatientLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(createNewPatient1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        mainPanel.add(newPatient, "newPatient");

        javax.swing.GroupLayout newDoctorLayout = new javax.swing.GroupLayout(newDoctor);
        newDoctor.setLayout(newDoctorLayout);
        newDoctorLayout.setHorizontalGroup(
            newDoctorLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(newDoctorLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(createNewDoctor2, javax.swing.GroupLayout.DEFAULT_SIZE, 889, Short.MAX_VALUE)
                .addContainerGap())
        );
        newDoctorLayout.setVerticalGroup(
            newDoctorLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(newDoctorLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(createNewDoctor2, javax.swing.GroupLayout.DEFAULT_SIZE, 698, Short.MAX_VALUE)
                .addContainerGap())
        );

        mainPanel.add(newDoctor, "newDoctor");

        javax.swing.GroupLayout editPatientLayout = new javax.swing.GroupLayout(editPatient);
        editPatient.setLayout(editPatientLayout);
        editPatientLayout.setHorizontalGroup(
            editPatientLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(editPatientLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(editPatient1, javax.swing.GroupLayout.DEFAULT_SIZE, 889, Short.MAX_VALUE)
                .addContainerGap())
        );
        editPatientLayout.setVerticalGroup(
            editPatientLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(editPatientLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(editPatient1, javax.swing.GroupLayout.DEFAULT_SIZE, 698, Short.MAX_VALUE)
                .addContainerGap())
        );

        mainPanel.add(editPatient, "editPatient");

        javax.swing.GroupLayout editOfficeLayout = new javax.swing.GroupLayout(editOffice);
        editOffice.setLayout(editOfficeLayout);
        editOfficeLayout.setHorizontalGroup(
            editOfficeLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(editOfficeLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(reportOfficesPanel, javax.swing.GroupLayout.PREFERRED_SIZE, 859, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(44, Short.MAX_VALUE))
        );
        editOfficeLayout.setVerticalGroup(
            editOfficeLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(editOfficeLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(reportOfficesPanel, javax.swing.GroupLayout.PREFERRED_SIZE, 641, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(90, Short.MAX_VALUE))
        );

        mainPanel.add(editOffice, "editOffice");

        javax.swing.GroupLayout editDoctorLayout = new javax.swing.GroupLayout(editDoctor);
        editDoctor.setLayout(editDoctorLayout);
        editDoctorLayout.setHorizontalGroup(
            editDoctorLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(editDoctorLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(editDoctor1, javax.swing.GroupLayout.DEFAULT_SIZE, 889, Short.MAX_VALUE)
                .addContainerGap())
        );
        editDoctorLayout.setVerticalGroup(
            editDoctorLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(editDoctorLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(editDoctor1, javax.swing.GroupLayout.DEFAULT_SIZE, 698, Short.MAX_VALUE)
                .addContainerGap())
        );

        mainPanel.add(editDoctor, "editDoctor");

        javax.swing.GroupLayout removePatientLayout = new javax.swing.GroupLayout(removePatient);
        removePatient.setLayout(removePatientLayout);
        removePatientLayout.setHorizontalGroup(
            removePatientLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 901, Short.MAX_VALUE)
        );
        removePatientLayout.setVerticalGroup(
            removePatientLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 724, Short.MAX_VALUE)
        );

        mainPanel.add(removePatient, "removePatient");

        javax.swing.GroupLayout removeOfficeLayout = new javax.swing.GroupLayout(removeOffice);
        removeOffice.setLayout(removeOfficeLayout);
        removeOfficeLayout.setHorizontalGroup(
            removeOfficeLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 901, Short.MAX_VALUE)
        );
        removeOfficeLayout.setVerticalGroup(
            removeOfficeLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 724, Short.MAX_VALUE)
        );

        mainPanel.add(removeOffice, "removeOffice");

        javax.swing.GroupLayout removeDoctorLayout = new javax.swing.GroupLayout(removeDoctor);
        removeDoctor.setLayout(removeDoctorLayout);
        removeDoctorLayout.setHorizontalGroup(
            removeDoctorLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(removeDoctorLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(removeDoctorPanel, javax.swing.GroupLayout.PREFERRED_SIZE, 879, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(24, Short.MAX_VALUE))
        );
        removeDoctorLayout.setVerticalGroup(
            removeDoctorLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(removeDoctorLayout.createSequentialGroup()
                .addGap(26, 26, 26)
                .addComponent(removeDoctorPanel, javax.swing.GroupLayout.PREFERRED_SIZE, 533, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(165, Short.MAX_VALUE))
        );

        mainPanel.add(removeDoctor, "removeDoctor");

        javax.swing.GroupLayout aboutHospitalLayout = new javax.swing.GroupLayout(aboutHospital);
        aboutHospital.setLayout(aboutHospitalLayout);
        aboutHospitalLayout.setHorizontalGroup(
            aboutHospitalLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(aboutHospitalLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(aboutHospital1, javax.swing.GroupLayout.DEFAULT_SIZE, 889, Short.MAX_VALUE)
                .addContainerGap())
        );
        aboutHospitalLayout.setVerticalGroup(
            aboutHospitalLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(aboutHospitalLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(aboutHospital1, javax.swing.GroupLayout.DEFAULT_SIZE, 698, Short.MAX_VALUE)
                .addContainerGap())
        );

        mainPanel.add(aboutHospital, "aboutHospital");

        javax.swing.GroupLayout editHospitalLayout = new javax.swing.GroupLayout(editHospital);
        editHospital.setLayout(editHospitalLayout);
        editHospitalLayout.setHorizontalGroup(
            editHospitalLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(editHospitalLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(editHospital1, javax.swing.GroupLayout.DEFAULT_SIZE, 889, Short.MAX_VALUE)
                .addContainerGap())
        );
        editHospitalLayout.setVerticalGroup(
            editHospitalLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(editHospitalLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(editHospital1, javax.swing.GroupLayout.DEFAULT_SIZE, 698, Short.MAX_VALUE)
                .addContainerGap())
        );

        mainPanel.add(editHospital, "editHospital");

        javax.swing.GroupLayout reportDoctorLayout = new javax.swing.GroupLayout(reportDoctor);
        reportDoctor.setLayout(reportDoctorLayout);
        reportDoctorLayout.setHorizontalGroup(
            reportDoctorLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(reportDoctorLayout.createSequentialGroup()
                .addGap(23, 23, 23)
                .addComponent(reportDoctor1, javax.swing.GroupLayout.PREFERRED_SIZE, 872, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(20, Short.MAX_VALUE))
        );
        reportDoctorLayout.setVerticalGroup(
            reportDoctorLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(reportDoctorLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(reportDoctor1, javax.swing.GroupLayout.PREFERRED_SIZE, 567, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(144, Short.MAX_VALUE))
        );

        mainPanel.add(reportDoctor, "reportDoctor");

        javax.swing.GroupLayout reportPatientLayout = new javax.swing.GroupLayout(reportPatient);
        reportPatient.setLayout(reportPatientLayout);
        reportPatientLayout.setHorizontalGroup(
            reportPatientLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(reportPatientLayout.createSequentialGroup()
                .addGap(22, 22, 22)
                .addComponent(reportPatientPanel, javax.swing.GroupLayout.DEFAULT_SIZE, 881, Short.MAX_VALUE)
                .addContainerGap())
        );
        reportPatientLayout.setVerticalGroup(
            reportPatientLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(reportPatientLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(reportPatientPanel, javax.swing.GroupLayout.PREFERRED_SIZE, 552, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(159, Short.MAX_VALUE))
        );

        mainPanel.add(reportPatient, "reportPatient");

        save.setText("Guardar");
        save.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                saveMouseClicked(evt);
            }
        });
        save.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                saveActionPerformed(evt);
            }
        });
        menuBar.add(save);

        menuHospital.setText("Hospital");

        menuEditHospital.setText("Editar");
        menuEditHospital.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                menuEditHospitalActionPerformed(evt);
            }
        });
        menuHospital.add(menuEditHospital);

        menuAboutHospital.setText("Acerca De");
        menuAboutHospital.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                menuAboutHospitalActionPerformed(evt);
            }
        });
        menuHospital.add(menuAboutHospital);

        menuBar.add(menuHospital);

        menuOffice.setText("Consultorio");

        menuNewOffice.setText("Agregar");
        menuNewOffice.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                menuNewOfficeActionPerformed(evt);
            }
        });
        menuOffice.add(menuNewOffice);

        menuSearchOffice.setText("Buscar");
        menuSearchOffice.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                menuSearchOfficeActionPerformed(evt);
            }
        });
        menuOffice.add(menuSearchOffice);

        menuBar.add(menuOffice);

        menuDoctor.setText("Doctor");

        menuNewDoctor.setText("Agregar");
        menuNewDoctor.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                menuNewDoctorActionPerformed(evt);
            }
        });
        menuDoctor.add(menuNewDoctor);

        menuEditDoctor.setText("Editar");
        menuEditDoctor.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                menuEditDoctorActionPerformed(evt);
            }
        });
        menuDoctor.add(menuEditDoctor);

        menuRemoveDoctor.setText("Eliminar");
        menuRemoveDoctor.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                menuRemoveDoctorActionPerformed(evt);
            }
        });
        menuDoctor.add(menuRemoveDoctor);

        menuBar.add(menuDoctor);

        menuPatient.setText("Paciente");

        menuNewPatient.setText("Agregar");
        menuNewPatient.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                menuNewPatientActionPerformed(evt);
            }
        });
        menuPatient.add(menuNewPatient);

        menuEditPatient.setText("Editar");
        menuEditPatient.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                menuEditPatientActionPerformed(evt);
            }
        });
        menuPatient.add(menuEditPatient);

        menuRemovePatient.setText("Eliminar");
        menuRemovePatient.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                menuRemovePatientActionPerformed(evt);
            }
        });
        menuPatient.add(menuRemovePatient);

        menuBar.add(menuPatient);

        menuReport.setText("Reporte");

        menuReportDoctor.setText("Doctor");
        menuReportDoctor.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                menuReportDoctorActionPerformed(evt);
            }
        });
        menuReport.add(menuReportDoctor);

        menuReportPatient.setText("Paciente");
        menuReportPatient.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                menuReportPatientActionPerformed(evt);
            }
        });
        menuReport.add(menuReportPatient);

        menuBar.add(menuReport);

        setJMenuBar(menuBar);

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(mainPanel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(mainPanel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

   //BotÃ³n de menÃº Agregar Consultorio
    private void menuNewOfficeActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_menuNewOfficeActionPerformed
        if (this.hospital != null) {
            CardLayout card = (CardLayout) mainPanel.getLayout();
            card.show(mainPanel, "newOffice");
        } else {
            JOptionPane.showMessageDialog(null, "Por favor, cree un doctor primero.", "ERROR", JOptionPane.ERROR_MESSAGE);
        }
    }//GEN-LAST:event_menuNewOfficeActionPerformed
    //BotÃ³n menÃº Editar Consultorio
    private void menuSearchOfficeActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_menuSearchOfficeActionPerformed
        if (this.hospital != null) {
            CardLayout card = (CardLayout) mainPanel.getLayout();
            card.show(mainPanel, "editOffice");
        } 
        else 
            JOptionPane.showMessageDialog(null, "Por favor, cree un hospital primero.", "ERROR", JOptionPane.ERROR_MESSAGE);
        
    }//GEN-LAST:event_menuSearchOfficeActionPerformed
    //BotÃ³n menÃº Agregar Doctor
    private void menuNewDoctorActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_menuNewDoctorActionPerformed
        if (this.hospital != null) {
            CardLayout card = (CardLayout) mainPanel.getLayout();
            card.show(mainPanel, "newDoctor");
        } else {
            JOptionPane.showMessageDialog(null, "Por favor, cree un hospital primero.", "ERROR", JOptionPane.ERROR_MESSAGE);
        }
    }//GEN-LAST:event_menuNewDoctorActionPerformed
    //BotÃ³n menÃº Editar Doctor
    private void menuEditDoctorActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_menuEditDoctorActionPerformed
		if (this.hospital != null) {
            if (this.hospital.getDoctors().isEmpty()) {
                JOptionPane.showMessageDialog(null, "Por favor, cree un doctor primero.", "ERROR", JOptionPane.ERROR_MESSAGE);
                this.menuNewDoctor.doClick();
            } else {
                this.editDoctor1.setHospital(hospital);
                CardLayout card = (CardLayout) mainPanel.getLayout();
                card.show(mainPanel, "editDoctor");
            }
        } else {
            JOptionPane.showMessageDialog(null, "Por favor, cree un hospital primero.", "ERROR", JOptionPane.ERROR_MESSAGE);
        }
    }//GEN-LAST:event_menuEditDoctorActionPerformed
    //BotÃ³n menÃº Eliminar Doctor
    private void menuRemoveDoctorActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_menuRemoveDoctorActionPerformed
        if (this.hospital != null) {
            if (this.hospital.getDoctors().isEmpty()) {
                JOptionPane.showMessageDialog(null, "Por favor, cree un doctor primero.", "ERROR", JOptionPane.ERROR_MESSAGE);
                this.menuNewDoctor.doClick();
            } else {
                this.removeDoctorPanel.setHospital(hospital);
                CardLayout card = (CardLayout) mainPanel.getLayout();
                card.show(mainPanel, "removeDoctor");
            }
        } else {
            JOptionPane.showMessageDialog(null, "Por favor, cree un hospital primero.", "ERROR", JOptionPane.ERROR_MESSAGE);
        }
    }//GEN-LAST:event_menuRemoveDoctorActionPerformed
    //BotÃ³n menÃº Agregar Paciente
    private void menuNewPatientActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_menuNewPatientActionPerformed
        if (this.hospital != null) {
            CardLayout card = (CardLayout) mainPanel.getLayout();
            card.show(mainPanel, "newPatient");
        } else {
            JOptionPane.showMessageDialog(null, "Por favor, cree un hospital primero.", "ERROR", JOptionPane.ERROR_MESSAGE);
        }
    }//GEN-LAST:event_menuNewPatientActionPerformed
    //BotÃ³n menÃº Editar Paciente
    private void menuEditPatientActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_menuEditPatientActionPerformed
        if (this.hospital != null) {
            CardLayout card = (CardLayout) mainPanel.getLayout();
            card.show(mainPanel, "editPatient");
        } else {
            JOptionPane.showMessageDialog(null, "Por favor, cree un hospital primero.", "ERROR", JOptionPane.ERROR_MESSAGE);
        }
    }//GEN-LAST:event_menuEditPatientActionPerformed
    //BotÃ³n menÃº Eliminar Paciente
    private void menuRemovePatientActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_menuRemovePatientActionPerformed
        if (this.hospital != null) {
            CardLayout card = (CardLayout) mainPanel.getLayout();
            card.show(mainPanel, "removePatient");
        } else {
            JOptionPane.showMessageDialog(null, "Por favor, cree un hospital primero.", "ERROR", JOptionPane.ERROR_MESSAGE);
        }
    }//GEN-LAST:event_menuRemovePatientActionPerformed
    //BotÃ³n menÃº Reportar Doctor
    private void menuReportDoctorActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_menuReportDoctorActionPerformed
        if (this.hospital != null) {

            CardLayout card = (CardLayout) mainPanel.getLayout();
            card.show(mainPanel, "reportDoctor");
            this.reportDoctor1.setData(this.hospital.getDoctors());

        } else {
            JOptionPane.showMessageDialog(null, "Por favor, cree un hospital primero.", "ERROR", JOptionPane.ERROR_MESSAGE);
        }
    }//GEN-LAST:event_menuReportDoctorActionPerformed
    //BotÃ³n menÃº Acerca De
    private void menuAboutHospitalActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_menuAboutHospitalActionPerformed

        if (this.hospital != null) {
            this.aboutHospital1.setHospital(hospital);

            CardLayout card = (CardLayout) mainPanel.getLayout();
            card.show(mainPanel, "aboutHospital");
        } else {
            JOptionPane.showMessageDialog(null, "Por favor, cree un hosÃ­tal primero.", "ERROR", JOptionPane.ERROR_MESSAGE);
        }
    }//GEN-LAST:event_menuAboutHospitalActionPerformed
    //BotÃ³n menÃº Editar Hospital
    private void menuEditHospitalActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_menuEditHospitalActionPerformed
        if (this.hospital != null) {
            CardLayout card = (CardLayout) mainPanel.getLayout();
            card.show(mainPanel, "editHospital");
            this.editHospital1.setFields(this.hospital);
        } else {
            JOptionPane.showMessageDialog(null, "Por favor, cree un hospital primero.", "ERROR", JOptionPane.ERROR_MESSAGE);
        }

    }//GEN-LAST:event_menuEditHospitalActionPerformed
    //Click botÃ³n menÃº guardar
    private void saveMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_saveMouseClicked
        // TODO add your handling code here:

        GuardarHospital GDB = new GuardarHospital(this.hospital);
        JOptionPane.showMessageDialog(null, "Los datos se han guardado exitosamente", "DATOS GUARDADOS", JOptionPane.INFORMATION_MESSAGE);

    }//GEN-LAST:event_saveMouseClicked
    //Enter botÃ³n menÃº guardar
    private void saveActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_saveActionPerformed
        // TODO add your handling code here:
        GuardarHospital GDB = new GuardarHospital(this.hospital);
        JOptionPane.showMessageDialog(null, "Los datos se han guardado exitosamente", "DATOS GUARDADOS", JOptionPane.INFORMATION_MESSAGE);
    }//GEN-LAST:event_saveActionPerformed
    //BotÃ³n menÃº Reportar Paciente
    private void menuReportPatientActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_menuReportPatientActionPerformed
        // TODO add your handling code here:
        if (this.hospital != null) {
            if (!this.hospital.getPatients().isEmpty()) {
                CardLayout card = (CardLayout) mainPanel.getLayout();
                card.show(mainPanel, "reportPatient");
                this.reportPatientPanel.setData(this.hospital.getPatients());
            } else {
                JOptionPane.showMessageDialog(null, "Por favor, cree un paciente primero.", "ERROR", JOptionPane.ERROR_MESSAGE);
            }
        } else {
            JOptionPane.showMessageDialog(null, "Por favor, cree un hospital primero.", "ERROR", JOptionPane.ERROR_MESSAGE);
        }
    }//GEN-LAST:event_menuReportPatientActionPerformed

    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(MainWindow.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(MainWindow.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(MainWindow.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(MainWindow.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>

        /* Create and display the form */
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                new MainWindow().setVisible(true);
            }
        });
    }

    private JFrame Frame = new JFrame();
    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JPanel aboutHospital;
    private Interfaz.Paneles.aboutHospital aboutHospital1;
    private Interfaz.Paneles.CreateNewDoctor createNewDoctor2;
    private Interfaz.Paneles.CreateNewDoctorsOffice createNewDoctorsOffice1;
    private Interfaz.Paneles.CreateNewHospital createNewHospitalForm;
    private Interfaz.Paneles.CreateNewPatient createNewPatient1;
    private javax.swing.JPanel editDoctor;
    private Interfaz.Paneles.EditDoctor editDoctor1;
    private javax.swing.JPanel editHospital;
    private Interfaz.Paneles.EditHospital editHospital1;
    private javax.swing.JPanel editOffice;
    private javax.swing.JPanel editPatient;
    private Interfaz.Paneles.EditPatient editPatient1;
    private javax.swing.JPanel inicioPanel;
    private Interfaz.Paneles.InicioPanel inicioPanel1;
    private javax.swing.JPanel mainPanel;
    private javax.swing.JMenuItem menuAboutHospital;
    private javax.swing.JMenuBar menuBar;
    private javax.swing.JMenu menuDoctor;
    private javax.swing.JMenuItem menuEditDoctor;
    private javax.swing.JMenuItem menuEditHospital;
    private javax.swing.JMenuItem menuEditPatient;
    private javax.swing.JMenu menuHospital;
    private javax.swing.JMenuItem menuNewDoctor;
    private javax.swing.JMenuItem menuNewOffice;
    private javax.swing.JMenuItem menuNewPatient;
    private javax.swing.JMenu menuOffice;
    private javax.swing.JMenu menuPatient;
    private javax.swing.JMenuItem menuRemoveDoctor;
    private javax.swing.JMenuItem menuRemovePatient;
    private javax.swing.JMenu menuReport;
    private javax.swing.JMenuItem menuReportDoctor;
    private javax.swing.JMenuItem menuReportPatient;
    private javax.swing.JMenuItem menuSearchOffice;
    private javax.swing.JPanel newDoctor;
    private javax.swing.JPanel newHospital;
    private javax.swing.JPanel newOffice;
    private javax.swing.JPanel newPatient;
    private javax.swing.JPanel removeDoctor;
    private Interfaz.Paneles.DeleteDoctor removeDoctorPanel;
    private javax.swing.JPanel removeOffice;
    private javax.swing.JPanel removePatient;
    private javax.swing.JPanel reportDoctor;
    private Interfaz.Paneles.ReportDoctor reportDoctor1;
    private Interfaz.Paneles.ReportOffices reportOfficesPanel;
    private javax.swing.JPanel reportPatient;
    private Interfaz.Paneles.ReportPatient reportPatientPanel;
    private javax.swing.JMenu save;
    // End of variables declaration//GEN-END:variables

    private void initSaveButtonsListeners() {
        //Crear Nuevo Hospital
        this.createNewHospitalForm.getSaveButton().addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                saveNewHospitalAction(evt);
            }
        });
        //Reportar Doctor
        this.reportDoctor1.getTable().getSelectionModel().addListSelectionListener(new ListSelectionListener() {
            public void valueChanged(ListSelectionEvent event) {
                if (!event.getValueIsAdjusting()) {
                    modifyDoctor(reportDoctor1.getTable().getValueAt(reportDoctor1.getTable().getSelectedRow(), 8).toString());
                }

            }
        });
        //Reportar Paciente
        this.reportPatientPanel.getTable().getSelectionModel().addListSelectionListener(new ListSelectionListener() {
            public void valueChanged(ListSelectionEvent event) {
                if (!event.getValueIsAdjusting()) {
                    modifyPatient(reportPatientPanel.getTable().getValueAt(reportPatientPanel.getTable().getSelectedRow(), 3).toString());
                }

            }
        });
         //Reportar Consultorio
        this.reportOfficesPanel.getTable().getSelectionModel().addListSelectionListener(new ListSelectionListener() {
            public void valueChanged(ListSelectionEvent event) {
                if (!event.getValueIsAdjusting()) {
                    modifyOffice(reportOfficesPanel.getTable().getValueAt(reportOfficesPanel.getTable().getSelectedRow(), 3).toString());
                }

            }
        });
        //Editar Hospital
        this.editHospital1.getSaveButton().addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                saveEditHospitalAction(evt);
            }
        });
        //Crear Doctor
        this.createNewDoctor2.getSaveButton().addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                saveNewDoctorAction(evt);
            }
        });
        //Editar Doctor
        this.editDoctor1.getSaveButton().addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                saveEditDoctorAction(evt);
            }
        });
        //Eliminar Doctor
        this.removeDoctorPanel.getDeleteButton().addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                saveDeleteDoctorAction(evt);
            }
        });
        
        //Crear Paciente
        this.createNewPatient1.getSaveButton().addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                saveNewPatientAction(evt);
            }
        });
        

        //Crear Consultorio
        this.createNewDoctorsOffice1.getSaveButton().addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                saveNewOfficeAction(evt);
            }
        });
       
    }

    public void modifyDoctor(String ID) {
        this.hospital.showDoctorInfo(ID);
    }

    public void modifyPatient(String nSS) {
        this.hospital.showPatientInfo(nSS);
    }
    
    public void modifyOffice(String ID){
        this.hospital.showDoctorsOfficeInfo(ID);
    }

    public void saveNewHospitalAction(java.awt.event.ActionEvent evt) {

        this.createNewHospitalForm.save();

        this.hospital = null;

        if (this.createNewHospitalForm.getHospital() != null) {

            this.hospital = new Hospital();
            this.hospital.setName(this.createNewHospitalForm.getHospital().getName());
            this.hospital.setAddress(this.createNewHospitalForm.getHospital().getAddress());
            try {
                this.hospital.setTelephone(this.createNewHospitalForm.getHospital().getTelephone());
            } catch (NotValidNumber ex) {
                //TODO
            }

            try {
                this.hospital.setNumOfRooms(this.createNewHospitalForm.getHospital().getNumOfRooms());
            } catch (NotValidNumber ex) {
                //TODO
            }

            try {
                this.hospital.setNumOfDoctorsOffices(this.createNewHospitalForm.getHospital().getNumOfDoctorsOffices());
            } catch (NotValidNumber ex) {
                //TODO
            }

            GuardarHospital GDB = new GuardarHospital(this.hospital);

            this.Frame.setVisible(false);

            this.setVisible(true);

            this.createNewHospitalForm.clearFields();
            this.menuAboutHospital.doClick();
        }
    }

    public void saveEditHospitalAction(java.awt.event.ActionEvent evt) {
        this.editHospital1.save();

        this.hospital = null;

        if (this.editHospital1.getHospital() != null) {

            this.hospital = new Hospital();
            this.hospital.setName(this.editHospital1.getHospital().getName());
            this.hospital.setAddress(this.editHospital1.getHospital().getAddress());
            try {
                this.hospital.setTelephone(this.editHospital1.getHospital().getTelephone());
            } catch (NotValidNumber ex) {
                //TODO
            }

            try {
                this.hospital.setNumOfRooms(this.editHospital1.getHospital().getNumOfRooms());
            } catch (NotValidNumber ex) {
                //TODO
            }

            try {
                this.hospital.setNumOfDoctorsOffices(this.editHospital1.getHospital().getNumOfDoctorsOffices());
            } catch (NotValidNumber ex) {
                //TODO
            }

            GuardarHospital GDB = new GuardarHospital(this.hospital);

            this.menuAboutHospital.doClick();
        }
    }

    public void saveNewDoctorAction(java.awt.event.ActionEvent evt) {
        Doctor d = this.createNewDoctor2.getDoctor();
        this.hospital.addDoctor(d);
        JOptionPane.showMessageDialog(null, "Doctor created successfully", "INFORMATION", JOptionPane.INFORMATION_MESSAGE);
        this.createNewDoctor2.clearFields();
    }

    public void saveEditDoctorAction(java.awt.event.ActionEvent evt) {
        Doctor oldDoctor = null;
        Doctor newDoctor = this.editDoctor1.getDoctor();
        for (int i = 0; i < this.hospital.getDoctors().size(); i++) {
            if (this.hospital.getDoctors().get(i).getId().equals(newDoctor.getId())) {
                oldDoctor = this.hospital.getDoctors().get(i);
            }
        }

        if (oldDoctor != null) {
            oldDoctor.setFirstName(newDoctor.getFirstName());
            oldDoctor.setLastName(newDoctor.getLastName());
            oldDoctor.setAddress(newDoctor.getAddress());
            oldDoctor.setEmail(newDoctor.getEmail());
            oldDoctor.setTelephone(newDoctor.getTelephone());
            oldDoctor.setAge(newDoctor.getAge());
            oldDoctor.setDepartment(newDoctor.getDepartment());
            oldDoctor.setLicence(newDoctor.getLicence());
            JOptionPane.showMessageDialog(null, "Doctor editado satisfactoriamente", "INFORMATION", JOptionPane.INFORMATION_MESSAGE);
            this.menuEditDoctor.doClick();
        } else {
            System.out.println("Error editando al doctor: El doctor no ha sido encontrado en el hospital.");
        }
    }

    public void saveDeleteDoctorAction(java.awt.event.ActionEvent evt) {
        Doctor eliminatedDoctor = this.removeDoctorPanel.getDoctor();
        for (int i = 0; i < this.hospital.getDoctors().size(); i++) {
            if (this.hospital.getDoctors().get(i).getId().equals(eliminatedDoctor.getId())) {
                this.hospital.getDoctors().remove(i);
                JOptionPane.showMessageDialog(null, "Doctor eliminado satisfactoriamente", "INFORMATION", JOptionPane.INFORMATION_MESSAGE);
                removeDoctorPanel.clearFields();
            }
        }
    }
    
    public void saveNewPatientAction(java.awt.event.ActionEvent evt) {
        Patient p = this.createNewPatient1.getPatient();
        this.hospital.addPatient(p);
        JOptionPane.showMessageDialog(null, "Paciente creado satisfactoriamente", "INFORMATION", JOptionPane.INFORMATION_MESSAGE);
        this.createNewPatient1.clearFields();
    }

    public void saveNewOfficeAction(java.awt.event.ActionEvent evt) {
        DoctorsOffice dof = this.createNewDoctorsOffice1.getOffice();
        this.hospital.addDoctorOffice(dof.getFloor(), dof.getMonthlyRent());
        JOptionPane.showMessageDialog(null, "Consultorio creado satisfactoriamente", "INFORMATION", JOptionPane.INFORMATION_MESSAGE);
        this.createNewDoctorsOffice1.clearFields();
    }

    public void saveEditOfficeAction(java.awt.event.ActionEvent evt) {
    }

    /*
	private void intiFakeData() {
		this.hospital = new Hospital("HÃ´pital joseph ducuing", "rue de paris, 31000 Toulouse, frnace", "0783927381", 5, 42);
		this.hospital.addDoctor("Jean", "Leguain", "XWZ182K9281", 34, "test@yopmail.com", "Rue des remparts sud, 09130 Carla-Bayle", "0293047382", "urologie");
		this.hospital.addDoctor("Aude", "Chapelet", "HDU73JSKE9Z", 25, "aude@yopmail.com", "Boulevard du marÃ©chal leclerc, toulouse", "0248273813", "pÃ©diatrie");
		this.hospital.addDoctor("AndrÃ©", "Smith", "9JDUE738SKD", 82, "halo@yopmail.com", "Place de l'europe, moyrazes", "0673849234", "pÃ©diatrie");
		this.hospital.addDoctor("Anne", "Montana", "DUE7283LDM0", 27, "anna@yopmail.com", "Bollywood street, 97120 MÃ©rida, YucatÃ¡n", "9992738473", "orthodontie");
	}*/
}
